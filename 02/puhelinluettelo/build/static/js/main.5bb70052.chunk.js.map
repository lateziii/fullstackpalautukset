{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Alert.js","App.js","index.js"],"names":["Filter","onFilterChange","filter","onChange","value","Person","person","onRemove","name","number","onClick","Persons","persons","filterilla","toLowerCase","includes","console","log","map","baseUrl","axios","get","then","response","data","newObject","post","put","id","delete","Alert","message","error","style","color","background","fontSize","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setError","useEffect","personService","initialPersons","length","onSubmit","event","target","preventDefault","find","window","confirm","updatedPerson","setTimeout","catch","finally","p","handleEdit","returnedPerson","concat","type","newPersons","poistettu","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5bb70052.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ onFilterChange, filter }) => {\n  return (\n    <div>\n        filter shown with: \n      <input onChange={onFilterChange} value={filter} />\n    </div>\n  );\n};\n\nexport default Filter;","import React from 'react'\n\nconst Person = ({person, onRemove}) => {\n    return (\n        <div>\n            {person.name}   {person.number} <button onClick={() => onRemove(person)}>delete</button>\n        </div>\n    )\n}\nexport default Person","import React from 'react'\nimport Person from \"./Person.js\";\n\nconst Persons = ({persons, filter, onRemove}) => {\n    const filterilla = persons.filter(person =>\n         person.name.toLowerCase().includes(filter.toLowerCase()));\n         console.log(filterilla)\n    return (\n        <div>\n            {filterilla.map((person)=>\n            <Person key={person.name} person={person} onRemove={onRemove}/>)}\n        </div>\n    )\n}\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (newObject) => {\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n    return request.then(response => response.data)\n}\nconst remove = (newObject) => {\n    const request = axios.delete(`${baseUrl}/${newObject.id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove } \n","import React from 'react';\n\nconst Alert =({message, error}) => {\n    const successStyle={\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20\n      }\n      const errorStyle={\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20\n      } \n    if (message === null){\n        return null\n    }\n    if (error)\n    return (\n        <div style={errorStyle}>\n            {message}\n        </div>\n    )\n    if (!error)\n    return (\n        <div style={successStyle}>\n            {message}\n        </div>\n    )\n}\nexport default Alert","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter.js\"\nimport Persons from \"./components/Persons.js\"\nimport personService  from './services/persons.js'\nimport Alert from \"./components/Alert.js\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState()\n  const [error, setError] =useState(false)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons', typeof(persons))\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n  const handleEdit = (person) => {\n    const newObject = personService.update(person)\n    newObject\n    .then(updatedPerson => {\n      setPersons(persons.map(person => (person.id !== updatedPerson.id ? person : updatedPerson)))\n      setNewName('')\n      setNewNumber('')\n      setError(false)\n      setMessage(`Changed number for ${newName}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }).catch(error => {\n      setError(true)\n      console.log(error)\n      setMessage(`${person.name} removed already`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).finally(() => {\n      setPersons(persons.map(p => (p.id !== person.id ? p : person)))\n    })\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    console.log(newName)\n    console.log(newNumber)\n    const personToFind = persons.find(person => person.name === newName)\n    if(personToFind){\n      const response = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if(response) {\n        const person = persons.find(person => person.name === newName)\n        return handleEdit({ ...person, number:newNumber})\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n      personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setError(false)\n        setMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }).catch(error => {\n        console.log(error.response.data)\n        setError(true)\n        setMessage(`Error: ${error.response.data.error}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        \n      })\n\n      \n    }\n  }\n  const handleRemove = (person) => {\n    const response = window.confirm(`Poistetaanko ${person.name}`)\n    if (response){\n      personService.remove(person).then(() => {\n        const newPersons = persons.filter(p => p.id !== person.id);\n        setPersons(newPersons)\n        setError(false)\n        console.log(error)\n        setMessage(`Removed ${person.name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).catch(error => {\n        setError(true)\n        console.log(error)\n        setMessage(`${person.name} removed already`)\n        setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).finally(() => {\n        const newPersons = persons.filter(poistettu => poistettu.id !== person.id)\n        setPersons(newPersons)\n      })\n    }\n  }\n\n \n  return (\n    <div>\n      <Alert message={message}error={error}></Alert>\n      <h2>Phonebook</h2>\n      <form onSubmit={setNewFilter}>\n        <div>\n          <Filter onFilterChange={handleFilterChange} filter={newFilter}/>\n        </div>\n      </form>\n      <h2>add a new</h2>\n      <form onSubmit={addPerson}>\n        <div>\n        name: <input value={newName}onChange={handleNameChange} />\n        </div>\n        <div>\n        number: <input value={newNumber}onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n        <div><Persons persons={persons}filter={newFilter}onRemove={handleRemove}/></div>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}