{"code":"(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,n,t){\"use strict\";t.r(n);var o=t(15),c=t.n(o),r=t(6),i=t(3),u=t(1),a=t(0),l=function(e){var n=e.onFilterChange,t=e.filter;return Object(a.jsxs)(\"div\",{children:[\"filter shown with:\",Object(a.jsx)(\"input\",{onChange:n,value:t})]})},s=function(e){var n=e.person,t=e.onRemove;return Object(a.jsxs)(\"div\",{children:[n.name,\"   \",n.number,\" \",Object(a.jsx)(\"button\",{onClick:function(){return t(n)},children:\"delete\"})]})},d=function(e){var n=e.persons,t=e.filter,o=e.onRemove,c=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return console.log(c),Object(a.jsx)(\"div\",{children:c.map((function(e){return Object(a.jsx)(s,{person:e,onRemove:o},e.name)}))})},f=t(4),j=t.n(f),b=\"/api/persons\",h=function(){return j.a.get(b).then((function(e){return e.data}))},m=function(e){return j.a.post(b,e).then((function(e){return e.data}))},O=function(e){return j.a.put(\"\".concat(b,\"/\").concat(e.id),e).then((function(e){return e.data}))},g=function(e){return j.a.delete(\"\".concat(b,\"/\").concat(e.id)).then((function(e){return e.data}))},v=function(e){var n=e.message,t=e.error;return null===n?null:t?Object(a.jsx)(\"div\",{style:{color:\"red\",background:\"lightgrey\",fontSize:20},children:n}):t?void 0:Object(a.jsx)(\"div\",{style:{color:\"green\",background:\"lightgrey\",fontSize:20},children:n})},p=function(){var e=Object(u.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(u.useState)(\"\"),s=Object(i.a)(c,2),f=s[0],j=s[1],b=Object(u.useState)(\"\"),p=Object(i.a)(b,2),x=p[0],w=p[1],y=Object(u.useState)(\"\"),S=Object(i.a)(y,2),k=S[0],C=S[1],T=Object(u.useState)(),R=Object(i.a)(T,2),z=R[0],E=R[1],F=Object(u.useState)(!1),J=Object(i.a)(F,2),L=J[0],P=J[1];Object(u.useEffect)((function(){console.log(\"effect\"),h().then((function(e){o(e)}))}),[]),console.log(\"render\",t.length,\"persons\",typeof t);return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(v,{message:z,error:L}),Object(a.jsx)(\"h2\",{children:\"Phonebook\"}),Object(a.jsx)(\"form\",{onSubmit:C,children:Object(a.jsx)(\"div\",{children:Object(a.jsx)(l,{onFilterChange:function(e){console.log(e.target.value),C(e.target.value)},filter:k})})}),Object(a.jsx)(\"h2\",{children:\"add a new\"}),Object(a.jsxs)(\"form\",{onSubmit:function(e){if(e.preventDefault(),console.log(\"button clicked\",e.target),console.log(f),console.log(x),t.find((function(e){return e.name===f}))){if(window.confirm(\"\".concat(f,\" is already added to phonebook, replace the old number with a new one?\"))){var n=t.find((function(e){return e.name===f}));return function(e){O(e).then((function(e){o(t.map((function(n){return n.id!==e.id?n:e}))),j(\"\"),w(\"\"),P(!1),E(\"Changed number for \".concat(f)),setTimeout((function(){E(null)}),5e3)})).catch((function(n){P(!0),console.log(n),E(\"\".concat(e.name,\" removed already\")),setTimeout((function(){E(null)}),5e3)})).finally((function(){o(t.map((function(n){return n.id!==e.id?n:e})))}))}(Object(r.a)(Object(r.a)({},n),{},{number:x}))}}else m({name:f,number:x}).then((function(e){o(t.concat(e)),j(\"\"),w(\"\"),P(!1),console.log(L),E(\"Added \".concat(f)),setTimeout((function(){E(null)}),5e3)})).catch((function(e){P(!0),E(e.response.data),setTimeout((function(){E(null)}),5e3)}))},children:[Object(a.jsxs)(\"div\",{children:[\"name: \",Object(a.jsx)(\"input\",{value:f,onChange:function(e){console.log(e.target.value),j(e.target.value)}})]}),Object(a.jsxs)(\"div\",{children:[\"number: \",Object(a.jsx)(\"input\",{value:x,onChange:function(e){console.log(e.target.value),w(e.target.value)}})]}),Object(a.jsx)(\"div\",{children:Object(a.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]}),Object(a.jsx)(\"h2\",{children:\"Numbers\"}),Object(a.jsx)(\"div\",{children:Object(a.jsx)(d,{persons:t,filter:k,onRemove:function(e){window.confirm(\"Poistetaanko \".concat(e.name))&&g(e).then((function(){var n=t.filter((function(n){return n.id!==e.id}));o(n),P(!1),console.log(L),E(\"Removed \".concat(e.name)),setTimeout((function(){E(null)}),5e3)})).catch((function(n){P(!0),console.log(n),E(\"\".concat(e.name,\" removed already\")),setTimeout((function(){E(null)}),5e3)})).finally((function(){var n=t.filter((function(n){return n.id!==e.id}));o(n)}))}})})]})};c.a.render(Object(a.jsx)(p,{}),document.getElementById(\"root\"))}},[[39,1,2]]]);","name":"static/js/main.b570eea1.chunk.js","map":{"version":3,"sources":["static/js/main.b570eea1.chunk.js"],"names":["this","push","39","module","__webpack_exports__","__webpack_require__","r","react_dom","react_dom_default","n","objectSpread2","slicedToArray","react","jsx_runtime","components_Filter","_ref","onFilterChange","filter","Object","children","onChange","value","components_Person","person","onRemove","name","number","onClick","components_Persons","persons","filterilla","toLowerCase","includes","console","log","map","axios","axios_default","baseUrl","services_persons","a","get","then","response","data","newObject","post","put","concat","id","delete","components_Alert","message","error","style","color","background","fontSize","src_App","_useState","_useState2","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setError","initialPersons","length","onSubmit","event","target","preventDefault","find","window","confirm","updatedPerson","setTimeout","catch","finally","p","handleEdit","returnedPerson","type","newPersons","poistettu","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonppuhelinluettelo\"] = this[\"webpackJsonppuhelinluettelo\"] || []).push([[0],{\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Filter.js\nvar Filter_Filter=function Filter(_ref){var onFilterChange=_ref.onFilterChange,filter=_ref.filter;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter shown with:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:onFilterChange,value:filter})]});};/* harmony default export */ var components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/components/Person.js\nvar Person_Person=function Person(_ref){var person=_ref.person,onRemove=_ref.onRemove;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[person.name,\"   \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return onRemove(person);},children:\"delete\"})]});};/* harmony default export */ var components_Person = (Person_Person);\n// CONCATENATED MODULE: ./src/components/Persons.js\nvar Persons_Persons=function Persons(_ref){var persons=_ref.persons,filter=_ref.filter,onRemove=_ref.onRemove;var filterilla=persons.filter(function(person){return person.name.toLowerCase().includes(filter.toLowerCase());});console.log(filterilla);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:filterilla.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Person,{person:person,onRemove:onRemove},person.name);})});};/* harmony default export */ var components_Persons = (Persons_Persons);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\nvar baseUrl='/api/persons';var persons_getAll=function getAll(){var request=axios_default.a.get(baseUrl);return request.then(function(response){return response.data;});};var persons_create=function create(newObject){var request=axios_default.a.post(baseUrl,newObject);return request.then(function(response){return response.data;});};var persons_update=function update(newObject){var request=axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(newObject.id),newObject);return request.then(function(response){return response.data;});};var persons_remove=function remove(newObject){var request=axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(newObject.id));return request.then(function(response){return response.data;});};/* harmony default export */ var services_persons = ({getAll:persons_getAll,create:persons_create,update:persons_update,remove:persons_remove});\n// CONCATENATED MODULE: ./src/components/Alert.js\nvar Alert_Alert=function Alert(_ref){var message=_ref.message,error=_ref.error;var successStyle={color:'green',background:'lightgrey',fontSize:20};var errorStyle={color:'red',background:'lightgrey',fontSize:20};if(message===null){return null;}if(error)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:errorStyle,children:message});if(!error)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:successStyle,children:message});};/* harmony default export */ var components_Alert = (Alert_Alert);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newFilter=_useState8[0],setNewFilter=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),error=_useState12[0],setError=_useState12[1];Object(react[\"useEffect\"])(function(){console.log('effect');services_persons.getAll().then(function(initialPersons){setPersons(initialPersons);});},[]);console.log('render',persons.length,'persons',typeof persons);var handleNameChange=function handleNameChange(event){console.log(event.target.value);setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){console.log(event.target.value);setNewNumber(event.target.value);};var handleFilterChange=function handleFilterChange(event){console.log(event.target.value);setNewFilter(event.target.value);};var handleEdit=function handleEdit(person){var newObject=services_persons.update(person);newObject.then(function(updatedPerson){setPersons(persons.map(function(person){return person.id!==updatedPerson.id?person:updatedPerson;}));setNewName('');setNewNumber('');setError(false);setMessage(\"Changed number for \".concat(newName));setTimeout(function(){setMessage(null);},5000);}).catch(function(error){setError(true);console.log(error);setMessage(\"\".concat(person.name,\" removed already\"));setTimeout(function(){setMessage(null);},5000);}).finally(function(){setPersons(persons.map(function(p){return p.id!==person.id?p:person;}));});};var addPerson=function addPerson(event){event.preventDefault();console.log('button clicked',event.target);console.log(newName);console.log(newNumber);var personToFind=persons.find(function(person){return person.name===newName;});if(personToFind){var response=window.confirm(\"\".concat(newName,\" is already added to phonebook, replace the old number with a new one?\"));if(response){var person=persons.find(function(person){return person.name===newName;});return handleEdit(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},person),{},{number:newNumber}));}}else{var personObject={name:newName,number:newNumber};services_persons.create(personObject).then(function(returnedPerson){setPersons(persons.concat(returnedPerson));setNewName('');setNewNumber('');setError(false);console.log(error);setMessage(\"Added \".concat(newName));setTimeout(function(){setMessage(null);},5000);}).catch(function(error){setError(true);setMessage(error.response.data);setTimeout(function(){setMessage(null);},5000);});}};var handleRemove=function handleRemove(person){var response=window.confirm(\"Poistetaanko \".concat(person.name));if(response){services_persons.remove(person).then(function(){var newPersons=persons.filter(function(p){return p.id!==person.id;});setPersons(newPersons);setError(false);console.log(error);setMessage(\"Removed \".concat(person.name));setTimeout(function(){setMessage(null);},5000);}).catch(function(error){setError(true);console.log(error);setMessage(\"\".concat(person.name,\" removed already\"));setTimeout(function(){setMessage(null);},5000);}).finally(function(){var newPersons=persons.filter(function(poistettu){return poistettu.id!==person.id;});setPersons(newPersons);});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Alert,{message:message,error:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:setNewFilter,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Filter,{onFilterChange:handleFilterChange,filter:newFilter})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addPerson,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:handleNameChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newNumber,onChange:handleNumberChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Persons,{persons:persons,filter:newFilter,onRemove:handleRemove})})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/components/Filter.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/components/Person.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/components/Persons.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/services/persons.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/components/Alert.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/App.js","/Users/lauriturkia/OneDrive - O365 Turun yliopisto/fullstackpalautukset/fullstackpalautukset/02/puhelinluettelo/src/index.js"],"names":["Filter","onFilterChange","filter","Person","person","onRemove","name","number","Persons","persons","filterilla","toLowerCase","includes","console","log","map","baseUrl","getAll","request","axios","get","then","response","data","create","newObject","post","update","put","id","remove","delete","Alert","message","error","successStyle","color","background","fontSize","errorStyle","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setError","useEffect","personService","initialPersons","length","handleNameChange","event","target","value","handleNumberChange","handleFilterChange","handleEdit","updatedPerson","setTimeout","catch","finally","p","addPerson","preventDefault","personToFind","find","window","confirm","personObject","returnedPerson","concat","handleRemove","newPersons","poistettu","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ onFilterChange, filter }) => {\n  return (\n    <div>\n        filter shown with: \n      <input onChange={onFilterChange} value={filter} />\n    </div>\n  );\n};\n\nexport default Filter;","import React from 'react'\n\nconst Person = ({person, onRemove}) => {\n    return (\n        <div>\n            {person.name}   {person.number} <button onClick={() => onRemove(person)}>delete</button>\n        </div>\n    )\n}\nexport default Person","import React from 'react'\nimport Person from \"./Person.js\";\n\nconst Persons = ({persons, filter, onRemove}) => {\n    const filterilla = persons.filter(person =>\n         person.name.toLowerCase().includes(filter.toLowerCase()));\n         console.log(filterilla)\n    return (\n        <div>\n            {filterilla.map((person)=>\n            <Person key={person.name} person={person} onRemove={onRemove}/>)}\n        </div>\n    )\n}\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (newObject) => {\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n    return request.then(response => response.data)\n}\nconst remove = (newObject) => {\n    const request = axios.delete(`${baseUrl}/${newObject.id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove } \n","import React from 'react';\n\nconst Alert =({message, error}) => {\n    const successStyle={\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20\n      }\n      const errorStyle={\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20\n      } \n    if (message === null){\n        return null\n    }\n    if (error)\n    return (\n        <div style={errorStyle}>\n            {message}\n        </div>\n    )\n    if (!error)\n    return (\n        <div style={successStyle}>\n            {message}\n        </div>\n    )\n}\nexport default Alert","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter.js\"\nimport Persons from \"./components/Persons.js\"\nimport personService  from './services/persons.js'\nimport Alert from \"./components/Alert.js\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState()\n  const [error, setError] =useState(false)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'persons', typeof(persons))\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n  const handleEdit = (person) => {\n    const newObject = personService.update(person)\n    newObject\n    .then(updatedPerson => {\n      setPersons(persons.map(person => (person.id !== updatedPerson.id ? person : updatedPerson)))\n      setNewName('')\n      setNewNumber('')\n      setError(false)\n      setMessage(`Changed number for ${newName}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    }).catch(error => {\n      setError(true)\n      console.log(error)\n      setMessage(`${person.name} removed already`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).finally(() => {\n      setPersons(persons.map(p => (p.id !== person.id ? p : person)))\n    })\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked', event.target)\n    console.log(newName)\n    console.log(newNumber)\n    const personToFind = persons.find(person => person.name === newName)\n    if(personToFind){\n      const response = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if(response) {\n        const person = persons.find(person => person.name === newName)\n        return handleEdit({ ...person, number:newNumber})\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n      personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setError(false)\n        console.log(error)\n        setMessage(`Added ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      }).catch(error => {\n        setError(true)\n        setMessage(error.response.data)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n\n      \n    }\n  }\n  const handleRemove = (person) => {\n    const response = window.confirm(`Poistetaanko ${person.name}`)\n    if (response){\n      personService.remove(person).then(() => {\n        const newPersons = persons.filter(p => p.id !== person.id);\n        setPersons(newPersons)\n        setError(false)\n        console.log(error)\n        setMessage(`Removed ${person.name}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).catch(error => {\n        setError(true)\n        console.log(error)\n        setMessage(`${person.name} removed already`)\n        setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      }).finally(() => {\n        const newPersons = persons.filter(poistettu => poistettu.id !== person.id)\n        setPersons(newPersons)\n      })\n    }\n  }\n\n \n  return (\n    <div>\n      <Alert message={message}error={error}></Alert>\n      <h2>Phonebook</h2>\n      <form onSubmit={setNewFilter}>\n        <div>\n          <Filter onFilterChange={handleFilterChange} filter={newFilter}/>\n        </div>\n      </form>\n      <h2>add a new</h2>\n      <form onSubmit={addPerson}>\n        <div>\n        name: <input value={newName}onChange={handleNameChange} />\n        </div>\n        <div>\n        number: <input value={newNumber}onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n        <div><Persons persons={persons}filter={newFilter}onRemove={handleRemove}/></div>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"]}}